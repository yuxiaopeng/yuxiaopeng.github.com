I"O<p><img src="/assets/images/2014/02/github_page_and-octopress.png" alt="" /></p>

<h3 id="1å®‰è£…-git">1ã€å®‰è£… Git.</h3>

<p>Macç³»ç»Ÿé»˜è®¤å·²å®‰è£…<a href="http://git-scm.com"><code>Git</code></a>.åœ¨ç»ˆç«¯è¾“å…¥git â€“versionï¼Œåº”è¯¥å¯ä»¥çœ‹åˆ°ç”µè„‘ä¸­çš„gitç‰ˆæœ¬</p>

<h3 id="2å®‰è£…-ruby">2ã€å®‰è£… Ruby</h3>

<p>Octopresséœ€è¦Rubyç¯å¢ƒï¼ŒRVM(Ruby Version Manager)è´Ÿè´£å®‰è£…å’Œç®¡ç†Rubyçš„ç¯å¢ƒã€‚æˆ‘ä»¬å…ˆåœ¨Terminalä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œæ¥å®‰è£…RVMï¼š</p>

<pre><code>curl -L https://get.rvm.io | bash -s stable â€”ruby
</code></pre>

<p>æ¥ç€å®‰è£…Ruby 1.9.3ï¼Œåœ¨ç»ˆç«¯ä¾æ¬¡è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>

<pre><code>rvm install 1.9.3
rvm use 1.9.3
rvm ruby gems latest
</code></pre>

<p>å®Œæˆä¸Šé¢çš„æ“ä½œä¹‹åï¼Œè¿è¡Œruby â€“versionåº”è¯¥å¯ä»¥çœ‹åˆ°ruby 1.9.3ç¯å¢ƒå·²ç»å®‰è£…å¥½äº†ã€‚</p>

<p>å‚è€ƒ  <a href="http://octopress.org/docs/setup/rvm/"><code>Installing Ruby With RVM</code></a></p>

<p>###3ã€å®‰è£… Octopress</p>

<p>ä½¿ç”¨ç”¨gitå‘½ä»¤å°†octopressä»githubä¸Šcloneåˆ°æœ¬æœºï¼Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>

<pre><code>git clone git://github.com/imathis/octopress.git octopress
cd octopress    # If you use RVM, You'll be asked if you trust the .rvmrc file (say yes).
ruby --version  # Should report Ruby 1.9.3
</code></pre>

<p>å®‰è£…ç›¸å…³ä¾èµ–é¡¹ï¼š</p>

<pre><code>gem install bundler
rbenv rehash    # If you use rbenv, rehash to be able to run the bundle command
bundle install
</code></pre>

<p>æœ€åå®‰è£…é»˜è®¤çš„Octopress ä¸»é¢˜ã€‚</p>

<pre><code> rake install
</code></pre>

<p>å‚è€ƒï¼š<a href="http://octopress.org/docs/setup/"><code>Octopress Setup</code></a></p>

<h3 id="4éƒ¨ç½²åˆ°github-pages">4ã€éƒ¨ç½²åˆ°Github Pages</h3>

<p>åˆ›å»ºä¸€ä¸ªæ–°çš„Githubä»“åº“ï¼Œå¹¶ä»¥username.github.comå‘½å ï¼Œå…¶ä¸­usernameæ˜¯ä½ çš„GitHubä¸Šçš„ç”¨æˆ·åæˆ–ç»„ç»‡åç§°å‘½åçš„å­˜å‚¨åº“ã€‚</p>

<p>ä¸ºäº†é€šè¿‡url username.github.comè®¿é—®åˆ°æˆ‘ä»¬github pagesé¡µé¢ï¼Œéœ€è¦å°†æºç æ–‡ä»¶æäº¤åˆ°Sourceåˆ†æ”¯ï¼Œå°†ç”Ÿæˆå¥½çš„å†…å®¹æäº¤åˆ°Masteråˆ†æ”¯ã€‚ Octopressæœ‰ä¸€ä¸ªé…ç½®å¯ä»¥å®ç°è¿™äº›ã€‚ åœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š
rake setup_github_pages</p>

<p>æ­¤å‘½ä»¤ä¼šè¦æ±‚ä½ è¾“å…¥ä»“åº“çš„urlï¼Œæ ¹æ®æç¤ºï¼Œè¿›è¡Œè¾“å…¥å³å¯ã€‚è¿™ä¸ªå‘½ä»¤å°†å®ç°å¦‚ä¸‹æ“ä½œï¼š</p>

<p>1ã€è¯¢é—®å’Œå­˜å‚¨æ‚¨çš„Github Pagesä»“åº“çš„URL</p>

<p>2ã€é‡å‘½åè¿œç¨‹ä»“åº“imathis/octopress çš„ <code>origin</code> ä¸º <code>octopress</code></p>

<p>3ã€å°†Github Pagesä»“åº“è®¾ç½®ä¸ºé»˜è®¤çš„è¿œç¨‹originåˆ†æ”¯</p>

<p>4ã€å°†æ´»åŠ¨åˆ†æ”¯ç”±masteråˆ‡æ¢ä¸ºsource</p>

<p>5ã€æ ¹æ®å­˜å‚¨åº“é…ç½®ä½ çš„åšå®¢çš„url</p>

<p>6ã€åˆ›å»ºä¸€ä¸ª_deployç›®å½•ï¼Œç”¨æ¥å­˜æ”¾éƒ¨ç½²åˆ°masteråˆ†æ”¯çš„å†…å®¹</p>

<p>æ¥ä¸‹æ¥æ‰§è¡Œå‘½ä»¤ï¼š</p>

<pre><code>rake generate
rake deploy
</code></pre>

<p>ä¸Šé¢çš„å‘½ä»¤é¦–å…ˆç”Ÿæˆåšå®¢æ–‡ä»¶ï¼Œå¹¶å°†ç”Ÿæˆçš„åšå®¢æ–‡ä»¶æ‹·è´åˆ°_deploy/ç›®å½•ä¸‹ï¼Œç„¶åå°†è¿™äº›å†…å®¹æ·»åŠ åˆ°gitä¸­ï¼Œå¹¶commitå’Œpushåˆ°ä»“åº“çš„masteråˆ†æ”¯ã€‚</p>

<p>ç°åœ¨å¯ä»¥è®¿é—® http://username.github.com äº†ã€‚æ³¨æ„ï¼šæœ‰æ—¶å€™å¯èƒ½ä¼šæœ‰å»¶æ—¶ï¼Œè¦ç­‰å‡ åˆ†é’Ÿæ‰èƒ½æ‰“å¼€ã€‚
è‡³æ­¤ï¼Œæˆ‘ä»¬çš„åšå®¢å·²ç»å®ŒæˆåŸºæœ¬çš„éƒ¨ç½²ã€‚</p>

<p>ä¸è¦å¿˜è®°æäº¤sourceç›®å½•,æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å°±å¯ä»¥å°†sourceæäº¤åˆ°ä»“åº“çš„sourceåˆ†æ”¯ä¸‹ã€‚</p>

<pre><code>git add .
git commit -m 'your message'
git push origin source
</code></pre>

<p>å‚è€ƒï¼š<a href="http://octopress.org/docs/deploying/github/"><code>Deploying to Github Pages</code></a></p>

<h3 id="5é…ç½®-octopress">5ã€é…ç½® Octopress</h3>

<p>Octopresså¤§å¤šæ•°æƒ…å†µä¸‹åªéœ€è¦é…ç½®<code>_config.yml</code>å’Œ<code>Rakefile</code>æ–‡ä»¶å³å¯ã€‚å…¶ä¸­Rakefileæ˜¯è·Ÿåšå®¢éƒ¨ç½²ç›¸å…³ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¹¶ä¸éœ€è¦ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚</p>

<p>config.ymlæ˜¯åšå®¢é‡è¦çš„ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œåœ¨config.ymlæ–‡ä»¶ä¸­æœ‰ä¸‰å¤§é…ç½®é¡¹ï¼š<code>Main Configs</code>ã€<code>Jekyll &amp; Plugins</code>å’Œ<code>3rd Party Settings</code>ã€‚</p>

<p>ä¸€èˆ¬ï¼Œè¯¥æ–‡ä»¶ä¸­å…¶ä¸­<code>url</code>æ˜¯å¿…é¡»è¦å¡«å†™çš„ï¼Œè¿™é‡Œçš„urlæ˜¯åœ¨githubä¸Šåˆ›å»ºçš„ä»“åº“åœ°å€ã€‚å¦å¤–å†ä¿®æ”¹ä¸€ä¸‹<code>title</code>,<code>subtitle</code>,<code>author</code>ï¼Œæ ¹æ®éœ€æ±‚ï¼Œå¼€å¯ä¸€äº›ç¬¬ä¸‰æ–¹ç»„ä»¶æœåŠ¡ã€‚</p>

<p>æ³¨æ„æ ¼å¼: é…ç½®é¡¹:ï¼‹ç©ºæ ¼ï¼‹å‚æ•°ï¼Œç©ºæ ¼ä¸€å®šä¸èƒ½å°‘ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>

<ul>
  <li>é…ç½®æ—¥æœŸæ ¼å¼</li>
</ul>

<pre><code>date_format: "%F %a"  		#2014-01-01    
date_format: "%Yå¹´%mæœˆ%dæ—¥"	#2014å¹´1æœˆ1æ—¥
</code></pre>

<ul>
  <li>Jekyllé…ç½®</li>
</ul>

<pre><code>excerpt_link: "ç»§ç»­é˜…è¯» &amp;amp;rarr; "
permalink: /blog/:title.html/
</code></pre>

<ul>
  <li>ä¾§è¾¹æ </li>
</ul>

<pre><code>default_asides: [asides/recent_posts.html, asides/github.html]
</code></pre>

<ul>
  <li>ä½¿ç”¨æœ¬åœ°æ—¶åŒº</li>
</ul>

<p>å°†Rakefileé‡Œé¢æ‰€æœ‰Time.nowæ”¹ä¸ºTime.now.localtime</p>

<ul>
  <li>è‡ªåŠ¨æ‰“å¼€æ–‡ä»¶/æµè§ˆå™¨ï¼ˆç¼–è¾‘Rakefileï¼‰</li>
</ul>

<p>rake new_post/page åä½¿ç”¨æŒ‡å®šç¼–è¾‘å™¨è‡ªåŠ¨æ‰“å¼€ç”Ÿæˆçš„æ–‡ä»¶</p>

<pre><code># Misc Configs ä¸­æ·»åŠ ï¼Œå¦‚æœä¸éœ€è¦è‡ªåŠ¨æ‰“å¼€ï¼Œåˆ™ç›´æ¥ä½¿ç”¨""
editor=\"open\"
# open ,ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–è¾‘å™¨
# open -a Mouï¼Œä½¿ç”¨Mouæ‰“å¼€
# open -a Bywordï¼Œä½¿ç”¨Bywordæ‰“å¼€
# subl, ä½¿ç”¨Sublime Text2æ‰“å¼€ 
...
# task :new_post å’Œ task :new_page ä¸­æ·»åŠ 
if #{editor}
	system "sleep 1; #{editor} #{filename}"
end
...
</code></pre>

<p>rake preview è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</p>

<pre><code># task :preview ä¸€æ®µä¸­æ·»åŠ 
system "sleep 2; open http://localhost:#{server_port}/"
</code></pre>

<p>å‚è€ƒï¼š<a href="http://octopress.org/docs/configuring/"><code>Configuring Octopress</code></a></p>

<h3 id="6å¼€å§‹ä½¿ç”¨octopresså†™åšå®¢">6ã€å¼€å§‹ä½¿ç”¨Octopresså†™åšå®¢</h3>

<p>åšå®¢ç³»ç»Ÿæ­å»ºå¥½ä¹‹åï¼Œå¦‚ä½•æ’°å†™åšæ–‡å‘¢ï¼Ÿé€šè¿‡ä¹‹å‰çš„æ­¥éª¤æƒ³å¿…ä½ å¯¹octopressçš„ç²¾é«“æœ‰æ‰€äº†è§£ï¼Œæ²¡æœ‰æ‰€è§å³æ‰€å¾—çš„ç¼–è¾‘å™¨è®©ä½ æ’°å†™åšæ–‡ï¼Œä½ è¦åšçš„æ˜¯ä½¿ç”¨ rake new_post å‘½ä»¤åˆ›å»ºä¸€ç¯‡æ–°çš„æ–‡ç« ï¼Œç„¶åä½¿ç”¨ç§°æ‰‹çš„markdownç¼–è¾‘å™¨è¿›è¡Œç¼–è¾‘å³å¯ã€‚å¯é€‰æ‹©çš„markdownç¼–è¾‘å™¨å¾ˆå¤šï¼Œvimï¼Œsublime text 2ï¼Œtextmate 2ï¼Œmouç­‰ç­‰ã€‚æˆ‘ä¸ªäººå–œæ¬¢åœ¨osxä¸‹ä½¿ç”¨sublime text 2ã€‚</p>

<p>ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤ï¼š</p>

<pre><code>rake new_post["title"]
</code></pre>

<p>Octopressåšæ–‡å­˜å‚¨åœ¨source/_postsç›®å½•ä¸‹ï¼ŒæŒ‰ç…§Jekyllçš„å‘½åè§„èŒƒå¯¹æ–‡ç« è¿›è¡Œå‘½åï¼šYYYY-MM-DD-post-title.markdownã€‚æ–‡ç« çš„åå­—ä¼šè¢«å½“åšurlçš„ä¸€éƒ¨åˆ†ï¼Œè€Œå…¶ä¸­çš„æ—¥æœŸç”¨äºå¯¹åšæ–‡çš„åŒºåˆ†å’Œæ’åºã€‚æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>

<pre><code>---
layout: post
title: "ä½¿ç”¨Octopressæ­å»ºåšå®¢"
date: 2014-02-10 16:17
comments: true
categories: 
---
</code></pre>

<p>æ¥ç€æˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å†™æˆ‘ä»¬çš„åšæ–‡å•¦ã€‚å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é¢„è§ˆå’Œéƒ¨ç½²åšæ–‡ã€‚ä¸‹é¢æ˜¯åˆ›å»ºå¹¶éƒ¨ç½²åšæ–‡çš„ä¸€ä¸ªå®Œæ•´è¿‡ç¨‹ï¼š</p>

<pre><code>rake new_post["New Post"]
rake generate
rake preview
git add .
git commit -am "Some comment here." 
git push origin source
rake deploy
</code></pre>

<p>å‚è€ƒï¼š<a href="http://octopress.org/docs/blogging/"><code>Blogging Basics</code></a></p>

:ET